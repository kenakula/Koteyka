import{toggleMenu,closeMenu,closePopup,showPopup,scrollEnable,scrollDisable}from"./vendor.min.js";$((function(){const o='<button class="slide-controls__dot" type="button"></button>',t='<button class="slide-controls__arrow slide-controls__arrow--left" tabindex="0">предыдущий слайд</button>',e='<button class="slide-controls__arrow slide-controls__arrow--right" tabindex="0">следующий слайд</button>';$(document.body).removeClass("no-js");const s=function(o){"Escape"===o.key&&(closePopup(),scrollEnable(),document.removeEventListener("keydown",s))},n=function(o){o.target.classList.contains("popup--show")&&(o.target.classList.remove("popup--show"),scrollEnable())};$(".button--book").on("click",(function(){showPopup($(".booking")),document.addEventListener("keydown",s),$(".booking").on("click",n)})),$(".popup__close").on("click",(function(){closePopup(),document.removeEventListener("keydown",s)})),$(".success button").on("click",(function(){closePopup(),document.removeEventListener("keydown",s)})),$(".booking__form").on("submit",(function(o){o.preventDefault(),o.target.reset(),closePopup(),showPopup($(".success")),$(".success").on("click",n)})),$(".filter__toggler").on("click",(function(){showPopup($(".filter")),document.addEventListener("keydown",s),$(".filter").on("click",n)}));const c=function(){$(".sorting__list").removeClass("sorting__list--show")},r=function(o){"Escape"===o.key&&(c(),document.removeEventListener("keydown",r))};$(".sorting__toggler").on("click",(function(){$(".sorting__list").addClass("sorting__list--show"),document.addEventListener("keydown",r)})),$(".sorting__list").on("click",(function(o){c(),function(o){const t=document.querySelector(".sorting"),e=o.target.closest(".sorting__item"),s=e.textContent,n=e.dataset.input,c=t.querySelector("#sorting_"+n);$(".sorting__toggler").text(s),c.checked=!0}(o),document.removeEventListener("keydown",r)})),$(".toggler").on("click",toggleMenu),$(".main-nav a").on("click",closeMenu),$(".slider__list").slick({mobileFirst:!0,dots:!0,appendDots:$(".slide-controls__indicators--suits"),dotsClass:"slide-controls__list",customPaging:function(){return o},appendArrows:$(".slide-controls__arrows--suits"),prevArrow:t,nextArrow:e}),$(".feedback__list").slick({mobileFirst:!0,arrows:!1,dots:!0,appendDots:$(".slide-controls__indicators--feedback"),dotsClass:"slide-controls__list",customPaging:function(){return o},responsive:[{breakpoint:1365,settings:{arrows:!0,appendArrows:$(".slide-controls__arrows--feedback"),prevArrow:t,nextArrow:e,slidesToShow:3}}]}),$("a[data-rel^=lightcase]").lightcase();const i=()=>{$(document).scrollTop()>0?$(document.body).addClass("is-scrolled"):$(document.body).removeClass("is-scrolled")};$(document).scroll((function(){i()})),$(document).ready((function(){i()}))}));